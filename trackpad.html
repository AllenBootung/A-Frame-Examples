<!DOCTYPE html>
<html>

<head>
	<title>Hello, WebVR! - A-Frame</title>
	<meta name="description" content="Hello, WebVR! - A-Frame">
	<script src="js/aframe-master.js"></script>
	<script src="js/aframe-animation-component.min.js"></script>
	<script src="js/aframe-extras.min.js"></script>
</head>

<body>

<script>

AFRAME.registerComponent('updater', {
	
	init: function()
	{
		this.num = 0;
		this.target = document.querySelector('#textArea');
		
		this.x = 0;
		this.y = 0.98;
		this.button = false;
		
		let textArea = document.querySelector('#textArea');
		
		textArea.setAttribute("text", "value", "test 6 \n - \n -");
		
		this.el.addEventListener("axismove", function(event)
		{
			this.x = event.axis[0];
			// this.y = event.axis[1];
			
			textArea.setAttribute("text", "value", "axis move " + this.x + "," + this.y);
		});
		
		this.el.addEventListener("triggerdown", function(event)
		{
			textArea.setAttribute("text", "value", "trigger down");
		});
		
		this.el.addEventListener("triggerup", function(event)
		{
			textArea.setAttribute("text", "value", "trigger up");
		});
		
	},
	
	tick: function (time, timeDelta) 
	{
		// let a = this.el.components["tracked-controls"].axis[0];
		this.num += 1;
		// this.target.setAttribute("text", "value", 1)
	}
	
	
	
});

</script>

<a-scene antialias="true">
	
	<a-assets>
		<img id="grid" src="images/border.png" crossorigin="anonymous" />
		<img id="sky" src="images/stars.jpg" crossorigin="anonymous" />
	</a-assets>

	
		<a-entity camera position="0 1.5 1" look-controls></a-entity>
		<a-entity id="leftHand" laser-controls="hand: left" raycaster="" line="color: #FF00FF"></a-entity>
		<a-entity id="rightHand" laser-controls="hand: right" raycaster="" line="color: #FFFF00" updater></a-entity>

	
	<a-sky 
		rotation = "0 0 0"
		color = "#FFFFFF"
		material = "src: #sky">
	</a-sky>
	
	<a-plane
		width="100" height="100"
		position=" 0.00 0.00 0.00" 
		rotation="-90 0 0" 
		color="#8888FF" 
		material="src: #grid; repeat:100 100; transparent: true; opacity: 0.75"
		shadow="cast: false; receive: true">
	</a-plane>
	
	
	<a-entity
		id="textArea"
		position="0 1.5 -2"
		geometry="primitive: plane;  width: 3; height:auto"
		material="color: #444444; transparent: true; opacity: 0.80;"
		text="anchor: center; baseline: center; wrapCount: 20;
				transparent: true; opacity: 0.90; color: #FF8888;
				value: a \n b \n c \n d">
	</a-entity>

	<!-- adding the updater last so it can get references to other entities 
	<a-entity updater></a-entity> 
	
	
	<a-entity id="trackpad" movement-controls updater>	</a-entity> -->
	
</a-scene>
</body>
</html>